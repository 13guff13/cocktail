/* Onsi Fakhouri <onsijoe@gmail.com>
 * Cocktail v0.5.4
 * https://github.com/onsi/cocktail/ */
!function(){var a={};"undefined"!=typeof exports?a=exports:"function"==typeof define?define(function(){return a}):this.Cocktail=a,a.mixins={},a.mixin=function(b){var c=_.chain(arguments).toArray().rest().flatten().value(),d=b.prototype||b,e={};return _(c).each(function(b){_.isString(b)&&(b=a.mixins[b]),_(b).each(function(a,b){if(_.isFunction(a)){if(d[b]===a)return;d[b]&&(e[b]=e[b]||[d[b]],e[b].push(a)),d[b]=a}else _.isArray(a)?d[b]=_.union(a,d[b]||[]):_.isObject(a)?d[b]=_.extend({},a,d[b]||{}):b in d||(d[b]=a)})}),_(e).each(function(a,b){d[b]=function(){var b,c=this,d=arguments;return _(a).each(function(a){var e=_.isFunction(a)?a.apply(c,d):a;b="undefined"==typeof e?b:e}),b}}),b};var b;a.patch=function(c){b=c.Model.extend;var d=function(c,d){var e=b.call(this,c,d),f=e.prototype.mixins;return f&&e.prototype.hasOwnProperty("mixins")&&a.mixin(e,f),e};_([c.Model,c.Collection,c.Router,c.View]).each(function(b){b.mixin=function(){a.mixin(this,_.toArray(arguments))},b.extend=d})},a.unpatch=function(a){_([a.Model,a.Collection,a.Router,a.View]).each(function(a){a.mixin=void 0,a.extend=b})}}();